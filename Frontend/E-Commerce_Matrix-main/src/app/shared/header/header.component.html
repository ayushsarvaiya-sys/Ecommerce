<div class="header">
  <div class="header-container">
    <!-- Logo Section -->
    <div class="logo">
      <h1>ğŸ›ï¸ E-Commerce</h1>
      <p class="tagline">Professional Store Management</p>
    </div>

    <!-- Show nav links only when logged in -->
    <nav class="nav-links" *ngIf="isLoggedIn()">
      <!-- User Navigation -->
      <div class="nav-section">
        <a routerLink="/home" routerLinkActive="active" class="nav-item">
          <span class="icon">ğŸ </span>
          <span>Home</span>
        </a>
        <a routerLink="/products" routerLinkActive="active" class="nav-item">
          <span class="icon">ğŸ“¦</span>
          <span>Products</span>
        </a>
        <a routerLink="/chat" routerLinkActive="active" class="nav-item chat-link">
          <span class="icon">ğŸ’¬</span>
          <span>Chat</span>
        </a>
        <a routerLink="/profile" routerLinkActive="active" class="nav-item">
          <span class="icon">ğŸ‘¤</span>
          <span>Profile</span>
        </a>

        <!-- Cart Button (User Only) -->
        <button 
          *ngIf="currentUser()?.role === 'User'" 
          class="nav-item cart-btn"
          (click)="viewCart()"
          title="View Shopping Cart"
        >
          <span class="icon">ğŸ›’</span>
          <span>Cart</span>
          <span class="cart-count" *ngIf="cartItemCount$ | async as count">{{ count }}</span>
        </button>
      </div>

      <!-- Admin Navigation (Separator + Admin Section) -->
      <div class="nav-section admin-section" *ngIf="currentUser()?.role === 'Admin'">
        <div class="admin-badge">ADMIN PANEL</div>
        <a 
          routerLink="/admin/products" 
          routerLinkActive="active"
          class="nav-item admin-link"
        >
          <span class="icon">âš™ï¸</span>
          <span>Products</span>
        </a>
        <a 
          routerLink="/admin/categories" 
          routerLinkActive="active"
          class="nav-item admin-link"
        >
          <span class="icon">ğŸ“‚</span>
          <span>Categories</span>
        </a>
        <a 
          routerLink="/admin/bulk-import" 
          routerLinkActive="active"
          class="nav-item admin-link"
        >
          <span class="icon">ğŸ“¥</span>
          <span>Import</span>
        </a>
      </div>
    </nav>

    <!-- Show user info only when logged in -->
    <div class="user-section" *ngIf="isLoggedIn()">
      <div class="user-profile">
        <div class="user-avatar">{{ currentUser()?.fullName?.charAt(0) | uppercase }}</div>
        <div class="user-details">
          <div class="user-name">{{ currentUser()?.fullName }}</div>
          <div class="user-role" [class.admin-role]="currentUser()?.role === 'Admin'">
            {{ currentUser()?.role }}
          </div>
        </div>
      </div>
      <button class="logout-btn" (click)="logout()" title="Logout">
        <span>ğŸšª</span>
        <span>Logout</span>
      </button>
    </div>
  </div>
</div>
