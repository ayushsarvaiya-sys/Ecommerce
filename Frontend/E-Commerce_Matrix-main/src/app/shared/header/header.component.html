<div class="header">
  <div class="header-container">
    <div class="logo">
      <h1>E-Commerce</h1>
    </div>

    <!-- Show nav links only when logged in -->
    <nav class="nav-links" *ngIf="isLoggedIn()">
      <a routerLink="/home" routerLinkActive="active">Home</a>
      <a routerLink="/products" routerLinkActive="active">Products</a>
      <a 
        *ngIf="currentUser()?.role === 'Admin'" 
        routerLink="/admin/products" 
        routerLinkActive="active"
        class="admin-link"
      >
        Manage Products
      </a>
      <a 
        *ngIf="currentUser()?.role === 'Admin'" 
        routerLink="/admin/categories" 
        routerLinkActive="active"
        class="admin-link"
      >
        Manage Categories
      </a>
      <a 
        *ngIf="currentUser()?.role === 'Admin'" 
        routerLink="/admin/bulk-import" 
        routerLinkActive="active"
        class="admin-link"
      >
        Bulk Import
      </a>
      <a routerLink="/profile" routerLinkActive="active">Profile</a>
      
      <!-- View Cart Button (User Only) -->
      <button 
        *ngIf="currentUser()?.role === 'User'" 
        class="cart-btn"
        (click)="viewCart()"
        title="View Shopping Cart"
      >
        ðŸ›’ Cart <span class="cart-count" *ngIf="cartItemCount$ | async as count">{{ count }}</span>
      </button>
    </nav>

    <!-- Show user info only when logged in -->
    <div class="user-info" *ngIf="isLoggedIn()">
      <span class="user-name">{{ currentUser()?.fullName }} ({{ currentUser()?.role }})</span>
      <button class="logout-btn" (click)="logout()">Logout</button>
    </div>
  </div>
</div>
